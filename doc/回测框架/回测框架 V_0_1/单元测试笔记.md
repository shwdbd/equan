# 单元测试笔记

本文根据需求与设计稿，规划设计单元测试用例

[TOC]

## 一、回测执行器 测试

### 1. 测试 简单策略执行

测试最简单的策略，检查各函数是否会按需求逐一运行

用例代码:test.equan_test.backtest.test_simple_strategy_runner.py

## 二、下单 测试

### 1. 股票账户按市价下单

**INPUT:**

- 股票下单100单位

**OUTPUT:**

- 生成Order对象（状态、各种标识）
- Account头寸和总市价不影响

**用例代码:**

test.equan_test.backtest.test_stock_order.py: test_stock_order

### 2. 股票账户下单不按手为单位 [反例]

**INPUT:**

- 股票下单50单位，或150单位

**OUTPUT:**

- 生成Order对象（状态为拒绝、各种标识）

**用例代码:**

test.equan_test.backtest.test_stock_order.py: test_error_unit

### 3. 股票账户下单，股票id不在资产池中 [反例]

**INPUT:**

- 股票下单不在资产池中的id

**OUTPUT:**

- 生成Order对象（状态为拒绝、各种标识）

**用例代码:**

test.equan_test.backtest.test_stock_order.py: test_error_universe

### 4. 股票账户获取股价数据失败

**INPUT:**

- 股票账户获取股价数据失败(要依赖特定的开关)

**OUTPUT:**

- 生成Order对象（状态为系统错误、各种标识）

**用例代码:**

test.equan_test.backtest.test_stock_order.py: test_cant_get_data


## 三、日终撮合 测试


## 附件：单元测试用例清单
